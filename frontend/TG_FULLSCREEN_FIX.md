# ‚úÖ TG MINI APP - –ü–û–õ–ù–ê–Ø –§–ò–ö–°–ê–¶–ò–Ø

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1Ô∏è‚É£ –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º (expand)

**–§–∞–π–ª**: `hooks/useTelegram.ts`

- –î–æ–±–∞–≤–ª–µ–Ω `WebApp.expand()` –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ä–∞–∑—É –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –æ–±–µ–∏—Ö –≤–µ—Ç–≤–µ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (Telegram SDK –∏ –ø—Ä—è–º–æ–µ)

### 2Ô∏è‚É£ –ó–∞–ø—Ä–µ—Ç –∑–∞–∫—Ä—ã—Ç–∏—è —Å–≤–∞–π–ø–æ–º

**–§–∞–π–ª**: `hooks/useTelegram.ts`

- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `WebApp.disallowVerticalSwipe()`
- –ó–∞–ø—Ä–µ—â–∞–µ—Ç –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–≤–∞–π–ø–æ–º –≤–Ω–∏–∑
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### 3Ô∏è‚É£ –§–∏–∫—Å–∞—Ü–∏—è viewport

**–§–∞–π–ª**: `app/globals.css`

- html: `width: 100%; height: 100%; overflow: hidden; position: fixed;`
- body: `overflow: hidden; position: fixed; width: 100%; height: 100%;`

**–§–∞–π–ª**: `app/layout.tsx`

- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±–µ—Ä—Ç–∫–∞ div —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Å–∫—Ä–æ–ª–ª –Ω–∞ —É—Ä–æ–≤–Ω–µ DOM

### 4Ô∏è‚É£ –°–∫—Ä–æ–ª–ª –¢–û–õ–¨–ö–û –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö

**–§–∞–π–ª—ã**:

- `components/MapView.tsx` - —É–∂–µ –∏–º–µ–µ—Ç `w-full h-screen` –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- `components/PinCard.tsx` - —É–∂–µ –∏–º–µ–µ—Ç `overflow-y-auto` –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞
- `components/CreatePinForm.tsx` - –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–π —Å–∫—Ä–æ–ª–ª –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
- `components/ContactModal.tsx` - –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–π —Å–∫—Ä–æ–ª–ª –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:

- Body –Ω–µ —Å–∫—Ä–æ–ª–ª–∏—Ç—Å—è
- –°–∫—Ä–æ–ª–ª–∏—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –º–æ–¥–∞–ª—è—Ö (PinCard, CreatePinForm, ContactModal)
- –ö–∞—Ä—Ç–∞ –Ω–µ —Å–∫—Ä–æ–ª–ª–∏—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω - —ç—Ç–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Leaflet

---

## üìù –ö–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### hooks/useTelegram.ts

```typescript
WebApp.ready();

// 1Ô∏è‚É£ –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
if (typeof WebApp.expand === 'function') {
  WebApp.expand();
}

// 2Ô∏è‚É£ –ó–∞–ø—Ä–µ—â–∞–µ–º –∑–∞–∫—Ä—ã—Ç–∏–µ —Å–≤–∞–π–ø–æ–º –≤–Ω–∏–∑
if (typeof WebApp.disallowVerticalSwipe === 'function') {
  WebApp.disallowVerticalSwipe();
}

// 3Ô∏è‚É£ –ë–ª–æ–∫–∏—Ä—É–µ–º –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é —ç–∫—Ä–∞–Ω–∞ –≤ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º
if (typeof WebApp.lockOrientation === 'function') {
  WebApp.lockOrientation();
}
```

### app/globals.css

```css
html {
  color-scheme: light;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: fixed;
  top: 0;
  left: 0;
}

body {
  overflow: hidden;
  position: fixed;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
}
```

### app/layout.tsx

```tsx
<div
  style={{
    position: 'fixed',
    top: 0,
    left: 0,
    width: '100%',
    height: '100%',
    overflow: 'hidden',
  }}
>
  {children}
</div>
```

---

## ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ Telegram Mini App

‚úÖ **–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω  
‚úÖ **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å —Å–≤–∞–π–ø–æ–º** - –∑–∞–∫—Ä—ã—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–æ–π X  
‚úÖ **Viewport –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω** - —ç–∫—Ä–∞–Ω –Ω–µ –¥–≤–∏–≥–∞–µ—Ç—Å—è –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏  
‚úÖ **–°–∫—Ä–æ–ª–ª —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏** - —Ç–æ–ª—å–∫–æ –º–æ–¥–∞–ª–∏ —Å–∫—Ä–æ–ª–ª—è—Ç—Å—è, –Ω–µ –≤–µ—Å—å —ç–∫—Ä–∞–Ω  
‚úÖ **–ö–∞—Ä—Ç–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è** - Leaflet —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏–º —Å–∫—Ä–æ–ª–ª–æ–º

---

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram Mini App
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–≤–∞–π–ø–∏—Ç—å –≤–Ω–∏–∑ - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ù–ï –∑–∞–∫—Ä–æ–µ—Ç—Å—è
3. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É Pin - —Å–∫—Ä–æ–ª–ª–∏—Ç —Ç–æ–ª—å–∫–æ –∫–∞—Ä—Ç–æ—á–∫–∞
4. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è Pin - —Å–∫—Ä–æ–ª–ª–∏—Ç —Ç–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞
5. –ù–∞ –∫–∞—Ä—Ç–µ –Ω–∞–≤–∏–≥–∏—Ä—É–π—Ç–µ—Å—å - –∫–∞—Ä—Ç–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∫—Ä–æ–ª–ª –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

---

## üìÇ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- ‚úÖ `hooks/useTelegram.ts` - expand() + disallowVerticalSwipe()
- ‚úÖ `app/globals.css` - –§–∏–∫—Å–∞—Ü–∏—è viewport —á–µ—Ä–µ–∑ CSS
- ‚úÖ `app/layout.tsx` - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ–∏–∫—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ div –æ–±–µ—Ä—Ç–∫—É

---

## üéØ –ò—Ç–æ–≥–æ

–¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º TG Mini App:

1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω (expand)
2. –ù–µ–ª—å–∑—è —Å–≤–∞–π–ø–∏—Ç—å (disallowVerticalSwipe)
3. Viewport —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω (CSS + HTML)
4. –°–∫—Ä–æ–ª–ª —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω—É–∂–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (overflow controls)

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
